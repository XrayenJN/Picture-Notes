{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Jonathan\\\\Desktop\\\\MERNstack\\\\project\\\\Picture-Notes\\\\client\\\\src\\\\components\\\\create-detail.component.js\";\nimport React, { Component } from 'react';\nimport DatePicker from 'react-datepicker';\nimport 'react-datepicker/dist/react-datepicker.css';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst token = localStorage.getItem('token');\nconst header = {\n  headers: {\n    'auth-token': token\n  }\n};\nexport default class CreateDetail extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      description: '',\n      file: null,\n      date: new Date(),\n      imageID: ''\n    };\n    this.onChangeDescription = this.onChangeDescription.bind(this);\n    this.onChangeImage = this.onChangeImage.bind(this);\n    this.onSubmitImage = this.onSubmitImage.bind(this);\n    this.onChangeDate = this.onChangeDate.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n  }\n\n  onChangeDescription(e) {\n    this.setState({\n      description: e.target.value\n    });\n  }\n\n  onChangeDate(date) {\n    this.setState({\n      date\n    });\n  }\n\n  onChangeImage(e) {\n    this.setState({\n      file: e.target.files[0]\n    });\n  }\n\n  onSubmitImage(e) {\n    e.preventDefault();\n    const image = new FormData();\n    image.append('file', this.state.file);\n    axios.post('/api/dashboard/img_data', image, header).then(res => this.setState({\n      imageID: res.data.new_img\n    }));\n    document.getElementById('imageSubmitted').innerHTML = \"Photo has been submitted\";\n  }\n\n  onSubmit(e) {\n    e.preventDefault();\n    const detail = {\n      username: localStorage.getItem('username'),\n      subject: localStorage.getItem('subject'),\n      description: this.state.description,\n      image: this.state.imageID,\n      date: this.state.date\n    };\n    axios.post('/api/dashboard/details/add/', detail, header).then(res => console.log(res.data));\n    localStorage.removeItem('subject');\n    window.location = '/dashboard';\n  }\n\n  render() {\n    const username = localStorage.getItem('username');\n    const subject = localStorage.getItem('subject');\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Create New Detail\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: this.onSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Username: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n            children: username\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Subject: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n            children: subject\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Image: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"file\",\n            name: \"myImage\",\n            onChange: this.onChangeImage\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: this.onSubmitImage,\n            children: \"Confirm Image\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"label\", {\n              id: \"imageSubmitted\",\n              style: {\n                color: \"green\"\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Date: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(DatePicker, {\n              selected: this.state.date,\n              onChange: this.onChangeDate\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Description: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            required: true,\n            className: \"form-control\",\n            value: this.state.description,\n            onChange: this.onChangeDescription\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"submit\",\n            value: \"Add Detail\",\n            className: \"btn btn-primary\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["C:/Users/Jonathan/Desktop/MERNstack/project/Picture-Notes/client/src/components/create-detail.component.js"],"names":["React","Component","DatePicker","axios","token","localStorage","getItem","header","headers","CreateDetail","constructor","props","state","description","file","date","Date","imageID","onChangeDescription","bind","onChangeImage","onSubmitImage","onChangeDate","onSubmit","e","setState","target","value","files","preventDefault","image","FormData","append","post","then","res","data","new_img","document","getElementById","innerHTML","detail","username","subject","console","log","removeItem","window","location","render","color"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport DatePicker from 'react-datepicker';\r\nimport 'react-datepicker/dist/react-datepicker.css';\r\nimport axios from 'axios';\r\n\r\nconst token = localStorage.getItem('token');\r\nconst header = { headers: {'auth-token': token} }\r\n\r\nexport default class CreateDetail extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            description: '',\r\n            file: null,\r\n            date: new Date(),\r\n            imageID: ''\r\n        }\r\n        this.onChangeDescription = this.onChangeDescription.bind(this);\r\n        this.onChangeImage = this.onChangeImage.bind(this);\r\n        this.onSubmitImage = this.onSubmitImage.bind(this);\r\n        this.onChangeDate = this.onChangeDate.bind(this);\r\n        this.onSubmit = this.onSubmit.bind(this);\r\n    }\r\n\r\n    onChangeDescription(e) {\r\n      this.setState({ description: e.target.value})\r\n    }\r\n\r\n    onChangeDate(date) {\r\n        this.setState({ date })\r\n    }\r\n\r\n    onChangeImage(e){\r\n      this.setState({ file: e.target.files[0] })\r\n    }\r\n\r\n    onSubmitImage(e){\r\n      e.preventDefault();\r\n\r\n      const image = new FormData();\r\n      image.append('file', this.state.file);\r\n\r\n      axios.post('/api/dashboard/img_data', image, header)\r\n        .then(res => this.setState({ imageID: res.data.new_img }))\r\n\r\n      document.getElementById('imageSubmitted').innerHTML = \"Photo has been submitted\"\r\n    }\r\n\r\n    onSubmit(e) {\r\n        e.preventDefault();\r\n\r\n        const detail = {\r\n          username: localStorage.getItem('username'),\r\n          subject: localStorage.getItem('subject'),\r\n          description: this.state.description,\r\n          image: this.state.imageID,\r\n          date: this.state.date\r\n        };\r\n\r\n        axios.post('/api/dashboard/details/add/', detail, header)\r\n            .then(res => console.log(res.data))\r\n\r\n        localStorage.removeItem('subject');\r\n        window.location = '/dashboard';\r\n    }\r\n\r\n    render() {\r\n        const username = localStorage.getItem('username')\r\n        const subject = localStorage.getItem('subject');\r\n        return (\r\n            <div className='container'>\r\n            <h3>Create New Detail</h3>\r\n            <form onSubmit={this.onSubmit}>\r\n              <div className=\"form-group\"> \r\n                <label>Username: </label>\r\n                <h5>{username}</h5>\r\n              </div>\r\n              <div className=\"form-group\"> \r\n                <label>Subject: </label>\r\n                <h5>{subject}</h5>\r\n              </div>\r\n              <div className=\"form-group\"> \r\n                <label>Image: </label>\r\n                <br />\r\n                <input type=\"file\" name=\"myImage\" onChange= {this.onChangeImage} />\r\n                <button onClick={this.onSubmitImage}>Confirm Image</button>\r\n                <div>\r\n                  <label id=\"imageSubmitted\"  style={{color: \"green\"}}></label>\r\n                </div>\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <label>Date: </label>\r\n                <div>\r\n                  <DatePicker\r\n                    selected={this.state.date}\r\n                    onChange={this.onChangeDate}\r\n                  />\r\n                </div>\r\n              </div>\r\n              <div className=\"form-group\"> \r\n                <label>Description: </label>\r\n                <input  type=\"text\"\r\n                    required\r\n                    className=\"form-control\"\r\n                    value={this.state.description}\r\n                    onChange={this.onChangeDescription}\r\n                    />\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <input type=\"submit\" value=\"Add Detail\" className=\"btn btn-primary\" />\r\n              </div>\r\n            </form>\r\n          </div>\r\n        )\r\n    }\r\n    \r\n}"]},"metadata":{},"sourceType":"module"}