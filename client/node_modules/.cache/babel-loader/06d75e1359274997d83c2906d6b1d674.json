{"ast":null,"code":"import _classCallCheck from\"C:/Users/Jonathan/Desktop/MERNstack/project/Picture-Notes/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/Jonathan/Desktop/MERNstack/project/Picture-Notes/client/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:/Users/Jonathan/Desktop/MERNstack/project/Picture-Notes/client/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:/Users/Jonathan/Desktop/MERNstack/project/Picture-Notes/client/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/Jonathan/Desktop/MERNstack/project/Picture-Notes/client/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var token=localStorage.getItem('token');var header={headers:{'auth-token':token}};var AdminCreateUser=/*#__PURE__*/function(_Component){_inherits(AdminCreateUser,_Component);var _super=_createSuper(AdminCreateUser);function AdminCreateUser(props){var _this;_classCallCheck(this,AdminCreateUser);_this=_super.call(this,props);_this.state={users:[],username:'',email:\"\",password:\"\",pass:false};_this.onChangeUsername=_this.onChangeUsername.bind(_assertThisInitialized(_this));_this.onChangeEmail=_this.onChangeEmail.bind(_assertThisInitialized(_this));_this.onChangePassword=_this.onChangePassword.bind(_assertThisInitialized(_this));_this.onSubmit=_this.onSubmit.bind(_assertThisInitialized(_this));return _this;}_createClass(AdminCreateUser,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;axios.get('/api/users').then(function(res){var users=res.data;_this2.setState({users:users});});}},{key:\"onChangeUsername\",value:function onChangeUsername(e){this.setState({username:e.target.value});}},{key:\"onChangeEmail\",value:function onChangeEmail(e){this.setState({email:e.target.value});var emails=this.state.users.map(function(user){return user.email;});if(emails.includes(e.target.value)){this.setState({pass:false});document.getElementById('email').innerHTML=\" × \";}else{this.setState({pass:true});document.getElementById('email').innerHTML=\"\";}}},{key:\"onChangePassword\",value:function onChangePassword(e){this.setState({password:e.target.value});}},{key:\"onSubmit\",value:function onSubmit(e){e.preventDefault();if(this.state.pass){var newSubject={username:this.state.username,email:this.state.email,password:this.state.password};axios.post('/api/users/add',newSubject,header).then(function(res){return console.log(res.data);});// window.location = '/admin/dashboard';\n}else{document.getElementById('submit').innerHTML=\"Email has been taken.\";}}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Create New User\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:this.onSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Username: \"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",required:true,className:\"form-control\",value:this.state.username,onChange:this.onChangeUsername})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Email: \"}),/*#__PURE__*/_jsx(\"a\",{id:\"email\",style:{color:\"red\"}}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",required:true,className:\"form-control\",value:this.state.email,onChange:this.onChangeEmail})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Password: \"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",required:true,className:\"form-control\",value:this.state.password,onChange:this.onChangePassword})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"Create New User\",className:\"btn btn-primary\"}),/*#__PURE__*/_jsx(\"p\",{id:\"submit\",style:{color:\"red\"}})]})]})]});}}]);return AdminCreateUser;}(Component);export{AdminCreateUser as default};","map":{"version":3,"sources":["C:/Users/Jonathan/Desktop/MERNstack/project/Picture-Notes/client/src/components/admin-create-user.component.js"],"names":["React","Component","axios","token","localStorage","getItem","header","headers","AdminCreateUser","props","state","users","username","email","password","pass","onChangeUsername","bind","onChangeEmail","onChangePassword","onSubmit","get","then","res","data","setState","e","target","value","emails","map","user","includes","document","getElementById","innerHTML","preventDefault","newSubject","post","console","log","color"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst token = localStorage.getItem('token');\r\nconst header = { headers: {'auth-token': token} }\r\n\r\nexport default class AdminCreateUser extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            users: [],\r\n            username: '',\r\n            email: \"\",\r\n            password: \"\",\r\n            pass: false,\r\n        }\r\n        this.onChangeUsername = this.onChangeUsername.bind(this);\r\n        this.onChangeEmail = this.onChangeEmail.bind(this);\r\n        this.onChangePassword = this.onChangePassword.bind(this);\r\n        this.onSubmit = this.onSubmit.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        axios.get('/api/users')\r\n            .then(res => {\r\n                const users = res.data\r\n                this.setState({ users })\r\n            })\r\n    }\r\n\r\n    onChangeUsername(e) {\r\n        this.setState({ username: e.target.value})\r\n    }\r\n\r\n    onChangeEmail(e) {\r\n        this.setState({ email: e.target.value })\r\n        const emails = this.state.users.map(user => user.email);\r\n        if(emails.includes(e.target.value)){\r\n            this.setState({ pass: false })\r\n            document.getElementById('email').innerHTML = \" × \"\r\n        }\r\n        else {\r\n            this.setState({ pass: true })\r\n            document.getElementById('email').innerHTML = \"\";\r\n        }\r\n    }\r\n\r\n    onChangePassword(e) {\r\n      this.setState({ password: e.target.value })\r\n    }\r\n\r\n    onSubmit(e) {\r\n        e.preventDefault();\r\n\r\n        if (this.state.pass) {\r\n            const newSubject = {\r\n                username: this.state.username,\r\n                email: this.state.email,\r\n                password: this.state.password\r\n            };\r\n\r\n            axios.post('/api/users/add', newSubject, header)\r\n                .then(res => console.log(res.data))\r\n\r\n            // window.location = '/admin/dashboard';\r\n\r\n        } else {\r\n            document.getElementById('submit').innerHTML = \"Email has been taken.\"\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className='container'>\r\n            <h3>Create New User</h3>\r\n            <form onSubmit={this.onSubmit}>\r\n            <div className=\"form-group\"> \r\n                <label>Username: </label>\r\n                <input  type=\"text\"\r\n                    required\r\n                    className=\"form-control\"\r\n                    value={this.state.username}\r\n                    onChange={this.onChangeUsername}\r\n                    />\r\n              </div>\r\n              <div className=\"form-group\"> \r\n                <label>Email: </label><a id=\"email\" style={{color: \"red\"}}></a>\r\n                <input  type=\"text\"\r\n                    required\r\n                    className=\"form-control\"\r\n                    value={this.state.email}\r\n                    onChange={this.onChangeEmail}\r\n                    />\r\n              </div>\r\n              <div className=\"form-group\"> \r\n                <label>Password: </label>\r\n                <input  type=\"password\"\r\n                    required\r\n                    className=\"form-control\"\r\n                    value={this.state.password}\r\n                    onChange={this.onChangePassword}\r\n                    />\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <input type=\"submit\" value=\"Create New User\" className=\"btn btn-primary\" />\r\n                <p id=\"submit\" style={{color: \"red\"}}></p>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        )\r\n    }\r\n    \r\n}"]},"metadata":{},"sourceType":"module"}