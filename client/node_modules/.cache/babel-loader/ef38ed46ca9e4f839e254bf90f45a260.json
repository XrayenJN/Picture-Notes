{"ast":null,"code":"import _classCallCheck from\"C:/Users/Jonathan/Desktop/MERNstack/project/Picture-Notes/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/Jonathan/Desktop/MERNstack/project/Picture-Notes/client/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:/Users/Jonathan/Desktop/MERNstack/project/Picture-Notes/client/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:/Users/Jonathan/Desktop/MERNstack/project/Picture-Notes/client/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/Jonathan/Desktop/MERNstack/project/Picture-Notes/client/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var token=localStorage.getItem('token');var header={headers:{'auth-token':token}};var AdminCreateSubject=/*#__PURE__*/function(_Component){_inherits(AdminCreateSubject,_Component);var _super=_createSuper(AdminCreateSubject);function AdminCreateSubject(props){var _this;_classCallCheck(this,AdminCreateSubject);_this=_super.call(this,props);_this.state={users:[],username:'',subject:''};_this.onChangeUsername=_this.onChangeUsername.bind(_assertThisInitialized(_this));_this.onChangeSubject=_this.onChangeSubject.bind(_assertThisInitialized(_this));_this.onSubmit=_this.onSubmit.bind(_assertThisInitialized(_this));return _this;}_createClass(AdminCreateSubject,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;axios.get('/api/users').then(function(res){return _this2.setState({users:res.data,username:res.data[0].username});});}},{key:\"onChangeUsername\",value:function onChangeUsername(e){this.setState({username:e.target.value});}},{key:\"onChangeSubject\",value:function onChangeSubject(e){this.setState({subject:e.target.value});}},{key:\"onSubmit\",value:function onSubmit(e){e.preventDefault();var newSubject={username:this.state.username,subject:this.state.subject};axios.post('/api/dashboard/subjects/add',newSubject,header).then(function(res){return console.log(res.data);});window.location='/admin/dashboard';}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Create New Subject\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:this.onSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Username: \"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"select\",{required:true,className:\"form-control\",value:this.state.username,onChange:this.onChangeUsername,children:this.state.users.map(function(user){return/*#__PURE__*/_jsx(\"option\",{value:user.username,children:user.username},user.username);})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Subject: \"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",required:true,className:\"form-control\",value:this.state.description,onChange:this.onChangeSubject})]}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"Create New Subject\",className:\"btn btn-primary\"})})]})]});}}]);return AdminCreateSubject;}(Component);export{AdminCreateSubject as default};","map":{"version":3,"sources":["C:/Users/Jonathan/Desktop/MERNstack/project/Picture-Notes/client/src/components/admin-create-subject.component.js"],"names":["React","Component","axios","token","localStorage","getItem","header","headers","AdminCreateSubject","props","state","users","username","subject","onChangeUsername","bind","onChangeSubject","onSubmit","get","then","res","setState","data","e","target","value","preventDefault","newSubject","post","console","log","window","location","map","user","description"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst token = localStorage.getItem('token');\r\nconst header = { headers: {'auth-token': token} }\r\n\r\nexport default class AdminCreateSubject extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            users: [],\r\n            username: '',\r\n            subject: '',\r\n        }\r\n        this.onChangeUsername = this.onChangeUsername.bind(this);\r\n        this.onChangeSubject = this.onChangeSubject.bind(this);\r\n        this.onSubmit = this.onSubmit.bind(this);\r\n    }\r\n\r\n    componentDidMount(){\r\n        axios.get('/api/users')\r\n            .then(res => this.setState({ users: res.data, username: res.data[0].username }))\r\n    }\r\n\r\n    onChangeUsername(e){\r\n        this.setState({ username: e.target.value })\r\n    }\r\n\r\n    onChangeSubject(e) {\r\n        this.setState({ subject: e.target.value})\r\n    }\r\n\r\n    onSubmit(e) {\r\n        e.preventDefault();\r\n\r\n        const newSubject = {\r\n            username: this.state.username,\r\n            subject: this.state.subject,\r\n        };\r\n\r\n        axios.post('/api/dashboard/subjects/add', newSubject, header)\r\n            .then(res => console.log(res.data))\r\n\r\n        window.location = '/admin/dashboard';\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className='container'>\r\n            <h3>Create New Subject</h3>\r\n            <form onSubmit={this.onSubmit}>\r\n              <div className=\"form-group\"> \r\n                <label>Username: </label>\r\n                <br/> \r\n                <select\r\n                    required\r\n                    className=\"form-control\"\r\n                    value={this.state.username}\r\n                    onChange={this.onChangeUsername}>\r\n                    {this.state.users.map((user) => {\r\n                        return <option\r\n                            key={user.username}\r\n                            value={user.username}>{user.username}\r\n                            </option>\r\n                    })\r\n                    }\r\n                </select>\r\n              </div>\r\n              <div className=\"form-group\"> \r\n                <label>Subject: </label>\r\n                <input  type=\"text\"\r\n                    required\r\n                    className=\"form-control\"\r\n                    value={this.state.description}\r\n                    onChange={this.onChangeSubject}\r\n                    />\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <input type=\"submit\" value=\"Create New Subject\" className=\"btn btn-primary\" />\r\n              </div>\r\n            </form>\r\n          </div>\r\n        )\r\n    }\r\n    \r\n}"]},"metadata":{},"sourceType":"module"}