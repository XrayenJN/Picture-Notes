{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Jonathan\\\\Desktop\\\\MERNstack\\\\loginAuth\\\\login\\\\src\\\\components\\\\expenses-list.component.js\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar incomes = 0;\nvar expenses = 0;\n\nconst Expense = props => /*#__PURE__*/_jsxDEV(\"tr\", {\n  children: [/*#__PURE__*/_jsxDEV(\"td\", {\n    children: props.expense.username\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 10,\n    columnNumber: 9\n  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n    children: props.expense.description\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 11,\n    columnNumber: 9\n  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n    children: props.expense.type == \"+\" ? /*#__PURE__*/_jsxDEV(\"span\", {\n      style: {\n        color: 'green'\n      },\n      children: props.expense.amount\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 13,\n      columnNumber: 15\n    }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n      style: {\n        color: 'red'\n      },\n      children: props.expense.amount\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 14,\n      columnNumber: 15\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 12,\n    columnNumber: 9\n  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n    children: [props.expense.createdAt.substring(0, 10), \", \", props.expense.createdAt.substring(12, 19)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 15,\n    columnNumber: 9\n  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n    children: [/*#__PURE__*/_jsxDEV(Link, {\n      to: \"/dashboard/expenses/edit/\" + props.expense._id,\n      children: \"edit\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 17,\n      columnNumber: 9\n    }, this), \" | \", /*#__PURE__*/_jsxDEV(\"a\", {\n      href: \"/dashboard/expenses\",\n      onClick: () => {\n        props.deleteExpense(props.expense._id);\n      },\n      children: \"delete\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 17,\n      columnNumber: 80\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 16,\n    columnNumber: 9\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 9,\n  columnNumber: 5\n}, this);\n\n_c = Expense;\nexport default class ExpensesList extends Component {\n  constructor(props) {\n    super(props);\n    this.deleteExpense = this.deleteExpense.bind(this);\n    this.sort = this.sort.bind(this);\n    this.state = {\n      expenses: [],\n      sorted: false\n    };\n  }\n\n  componentDidMount() {\n    const username = localStorage.getItem('username');\n    const token = localStorage.getItem('token');\n    axios.get('http://localhost:5000/dashboard/expenses/', {\n      headers: {\n        \"auth-token\": token\n      }\n    }).then(res => {\n      const sortedExpensesById = res.data.filter(sorted => {\n        if (sorted.username === 'test2') return sorted;\n      });\n      this.setState({\n        expenses: sortedExpensesById\n      });\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n\n  deleteExpense(id) {\n    axios.delete('http://localhost:5000/dashboard/expenses/' + id).then(res => console.log(res.data));\n    this.setState({\n      expenses: this.state.expenses.filter(el => el._id !== id)\n    });\n  }\n\n  sort(e) {\n    // sort for the first one to the last one\n    const sorted = this.state.expenses.sort((first, second) => {\n      if (this.state.sorted === true) {\n        if (first.date > second.date) return 1;\n        return -1;\n      } else {\n        if (first.date > second.date) return -1;\n        return 1;\n      }\n    });\n    this.setState({\n      expenses: sorted,\n      sorted: !this.state.sorted\n    });\n    incomes = 0;\n    expenses = 0;\n  }\n\n  exerciseList() {\n    return this.state.expenses.map(eachExpense => {\n      return /*#__PURE__*/_jsxDEV(Expense, {\n        expense: eachExpense,\n        deleteExpense: this.deleteExpense\n      }, eachExpense._id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 20\n      }, this);\n    });\n  }\n\n  summary() {\n    return /*#__PURE__*/_jsxDEV(\"tr\", {\n      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n        children: this.income()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: this.expense()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: incomes - expenses\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 13\n    }, this);\n  }\n\n  income() {\n    this.state.expenses.map(eachExpense => {\n      if (eachExpense.type === '+') incomes += Number(eachExpense.amount);\n    });\n    return incomes;\n  }\n\n  expense() {\n    this.state.expenses.map(eachExpense => {\n      if (eachExpense.type === '-') expenses += Number(eachExpense.amount);\n    });\n    return expenses;\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Logged Expenses\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"table\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            className: \"thead-light\",\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Username\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 120,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Description\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 121,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Amount ($)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 122,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: [\"Date \", /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: e => this.sort(e),\n                  children: \"\\u2191\\u2193\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 123,\n                  columnNumber: 38\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 123,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Actions\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 124,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 119,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: this.exerciseList()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Summary\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"table\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            className: \"thead-light\",\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Income\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 138,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Expense\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 139,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Available\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 140,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 137,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: this.summary()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 9\n    }, this);\n  }\n\n}\n\nvar _c;\n\n$RefreshReg$(_c, \"Expense\");","map":{"version":3,"sources":["C:/Users/Jonathan/Desktop/MERNstack/loginAuth/login/src/components/expenses-list.component.js"],"names":["React","Component","Link","axios","incomes","expenses","Expense","props","expense","username","description","type","color","amount","createdAt","substring","_id","deleteExpense","ExpensesList","constructor","bind","sort","state","sorted","componentDidMount","localStorage","getItem","token","get","headers","then","res","sortedExpensesById","data","filter","setState","catch","err","console","log","id","delete","el","e","first","second","date","exerciseList","map","eachExpense","summary","income","Number","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport axios from 'axios';\r\n\r\nvar incomes = 0;\r\nvar expenses = 0;\r\n\r\nconst Expense = props => (\r\n    <tr>\r\n        <td>{props.expense.username}</td>\r\n        <td>{props.expense.description}</td>\r\n        <td>{props.expense.type == \"+\" \r\n            ? <span style={{color: 'green'}}>{props.expense.amount}</span>\r\n            : <span style={{color: 'red'}}>{props.expense.amount}</span>}</td>\r\n        <td>{props.expense.createdAt.substring(0,10)}, {props.expense.createdAt.substring(12,19)}</td>\r\n        <td>\r\n        <Link to={\"/dashboard/expenses/edit/\"+props.expense._id}>edit</Link> | <a href=\"/dashboard/expenses\" onClick={() => { props.deleteExpense(props.expense._id) }}>delete</a>\r\n        </td>\r\n    </tr>\r\n)\r\n\r\nexport default class ExpensesList extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.deleteExpense = this.deleteExpense.bind(this);\r\n        this.sort = this.sort.bind(this);\r\n\r\n        this.state = { \r\n            expenses: [],\r\n            sorted: false,\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        const username = localStorage.getItem('username');\r\n        const token = localStorage.getItem('token');\r\n        axios.get('http://localhost:5000/dashboard/expenses/', {\r\n            headers: {\r\n              \"auth-token\": token \r\n            }\r\n          })\r\n            .then(res => {\r\n                const sortedExpensesById = res.data.filter(sorted => {\r\n                    if(sorted.username === 'test2')\r\n                        return sorted\r\n                });\r\n                this.setState({ expenses: sortedExpensesById });\r\n            })\r\n            .catch(err => {\r\n                console.log(err)\r\n            })\r\n    }\r\n\r\n    deleteExpense(id) {\r\n        axios.delete('http://localhost:5000/dashboard/expenses/' + id)\r\n            .then(res => console.log(res.data))\r\n\r\n        this.setState({\r\n            expenses: this.state.expenses.filter(el => el._id !== id)\r\n        })\r\n    }\r\n\r\n    sort(e) { // sort for the first one to the last one\r\n        const sorted = this.state.expenses.sort((first, second) => {\r\n            if (this.state.sorted === true) {\r\n                if (first.date > second.date) return 1\r\n                    return -1\r\n            } else {if (first.date > second.date) return -1\r\n                    return 1\r\n            }\r\n        })\r\n        this.setState({ expenses: sorted, sorted: !this.state.sorted });\r\n        incomes = 0;\r\n        expenses = 0;\r\n    }\r\n\r\n    exerciseList() {\r\n\r\n        return this.state.expenses.map(eachExpense => {\r\n            return <Expense expense={eachExpense} deleteExpense={this.deleteExpense}\r\n                        key={eachExpense._id} />;\r\n        })\r\n    }\r\n\r\n    summary() {\r\n        return (\r\n            <tr>\r\n                <td>{this.income()}</td>\r\n                <td>{this.expense()}</td>\r\n                <td>{incomes - expenses}</td>\r\n            </tr>\r\n        )\r\n    }\r\n\r\n    income() {\r\n        this.state.expenses.map(eachExpense => {\r\n            if (eachExpense.type === '+')\r\n                incomes += Number(eachExpense.amount)\r\n        })\r\n        return incomes\r\n    }\r\n\r\n    expense() {\r\n        this.state.expenses.map(eachExpense => {\r\n            if (eachExpense.type === '-')\r\n                expenses += Number(eachExpense.amount)\r\n        })\r\n        return expenses;\r\n    }\r\n\r\n    render() {\r\n        return (\r\n        <div>\r\n            <div className='container'>\r\n                <h3>Logged Expenses</h3>\r\n                <table className=\"table\">\r\n                    <thead className=\"thead-light\">\r\n                        <tr>\r\n                            <th>Username</th>\r\n                            <th>Description</th>\r\n                            <th>Amount ($)</th>\r\n                            <th>Date <button onClick={(e) => this.sort(e)}>↑↓</button></th>\r\n                            <th>Actions</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        { this.exerciseList() }\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n            <br />\r\n            <div className='container'>\r\n                <h3>Summary</h3>\r\n                <table className='table'>\r\n                    <thead className='thead-light'>\r\n                        <tr>\r\n                            <th>Income</th>\r\n                            <th>Expense</th>\r\n                            <th>Available</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        { this.summary() }\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        </div>\r\n        )\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}