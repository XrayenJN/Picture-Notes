{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Jonathan\\\\Desktop\\\\MERNstack\\\\project\\\\Picture-Notes\\\\client\\\\src\\\\components\\\\admin-create-detail.component.js\";\nimport React, { Component } from 'react';\nimport DatePicker from 'react-datepicker';\nimport 'react-datepicker/dist/react-datepicker.css';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst token = localStorage.getItem('token');\nconst header = {\n  headers: {\n    'auth-token': token\n  }\n};\nexport default class CreateDetail extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      users: [],\n      subjects: [],\n      username: '',\n      multipleSubject: [],\n      subject: '',\n      description: '',\n      file: null,\n      date: new Date(),\n      imageID: ''\n    };\n    this.onChangeUsername = this.onChangeUsername.bind(this);\n    this.onChangeSubject = this.onChangeSubject.bind(this);\n    this.onChangeDescription = this.onChangeDescription.bind(this);\n    this.onChangeImage = this.onChangeImage.bind(this);\n    this.onChangeDate = this.onChangeDate.bind(this);\n    this.onSubmitImage = this.onSubmitImage.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n  }\n\n  componentDidMount() {\n    axios.get('/api/users').then(res => this.setState({\n      users: res.data,\n      username: res.data[0].username\n    }));\n    axios.get('/api/dashboard/subjects', header).then(res => this.setState({\n      subjects: res.data\n    }));\n  }\n\n  onChangeUsername(e) {\n    this.setState({\n      username: e.target.value\n    });\n  }\n\n  onChangeSubject(e) {\n    this.setState({\n      subject: e.target.value\n    });\n  }\n\n  onChangeDescription(e) {\n    this.setState({\n      description: e.target.value\n    });\n  }\n\n  onChangeDate(date) {\n    this.setState({\n      date\n    });\n  }\n\n  onChangeImage(e) {\n    this.setState({\n      file: e.target.files[0]\n    });\n  }\n\n  onSubmitImage(e) {\n    e.preventDefault();\n    const image = new FormData();\n    image.append('file', this.state.file);\n    axios.post('/api/dashboard/img_data', image, header).then(res => this.setState({\n      imageID: res.data.new_img\n    }));\n    document.getElementById('imageSubmitted').innerHTML = \"Photo has been submitted\";\n  }\n\n  onSubmit(e) {\n    e.preventDefault();\n    const detail = {\n      username: this.state.username,\n      subject: this.state.subject,\n      description: this.state.description,\n      image: this.state.imageID,\n      date: this.state.date\n    };\n    axios.post('/api/dashboard/details/add/', detail, header).then(res => console.log(res.data));\n    window.location = '/admin/dashboard';\n  }\n\n  render() {\n    const filteredSubject = this.state.subjects.filter(user => user.username === this.state.username);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Create New Detail\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: this.onSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Username: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            required: true,\n            className: \"form-control\",\n            value: this.state.username,\n            onChange: this.onChangeUsername,\n            children: this.state.users.map(user => {\n              return /*#__PURE__*/_jsxDEV(\"option\", {\n                value: user.username,\n                children: user.username\n              }, user.username, false, {\n                fileName: _jsxFileName,\n                lineNumber: 105,\n                columnNumber: 32\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Subject: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            required: true,\n            className: \"form-control\",\n            value: this.state.subject,\n            onChange: this.onChangeSubject,\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 120,\n              columnNumber: 21\n            }, this), filteredSubject.map(user => {\n              return /*#__PURE__*/_jsxDEV(\"option\", {\n                value: user.subject,\n                children: user.subject\n              }, user.subject, false, {\n                fileName: _jsxFileName,\n                lineNumber: 124,\n                columnNumber: 27\n              }, this);\n            })]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Image: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"file\",\n            name: \"myImage\",\n            onChange: this.onChangeImage\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: this.onSubmitImage,\n            children: \"Confirm Image\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"label\", {\n              id: \"imageSubmitted\",\n              style: {\n                color: \"green\"\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 138,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Date: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(DatePicker, {\n              selected: this.state.date,\n              onChange: this.onChangeDate\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 144,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Description: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            required: true,\n            className: \"form-control\",\n            value: this.state.description,\n            onChange: this.onChangeDescription\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"submit\",\n            value: \"Add Detail\",\n            className: \"btn btn-primary\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 13\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["C:/Users/Jonathan/Desktop/MERNstack/project/Picture-Notes/client/src/components/admin-create-detail.component.js"],"names":["React","Component","DatePicker","axios","token","localStorage","getItem","header","headers","CreateDetail","constructor","props","state","users","subjects","username","multipleSubject","subject","description","file","date","Date","imageID","onChangeUsername","bind","onChangeSubject","onChangeDescription","onChangeImage","onChangeDate","onSubmitImage","onSubmit","componentDidMount","get","then","res","setState","data","e","target","value","files","preventDefault","image","FormData","append","post","new_img","document","getElementById","innerHTML","detail","console","log","window","location","render","filteredSubject","filter","user","map","color"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport DatePicker from 'react-datepicker';\r\nimport 'react-datepicker/dist/react-datepicker.css';\r\nimport axios from 'axios';\r\n\r\nconst token = localStorage.getItem('token');\r\nconst header = { headers: {'auth-token': token} }\r\n\r\nexport default class CreateDetail extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            users: [],\r\n            subjects: [],\r\n            username: '',\r\n            multipleSubject: [],\r\n            subject: '',\r\n            description: '',\r\n            file: null,\r\n            date: new Date(),\r\n            imageID: ''\r\n        }\r\n        this.onChangeUsername = this.onChangeUsername.bind(this);\r\n        this.onChangeSubject = this.onChangeSubject.bind(this);\r\n        this.onChangeDescription = this.onChangeDescription.bind(this);\r\n        this.onChangeImage = this.onChangeImage.bind(this);\r\n        this.onChangeDate = this.onChangeDate.bind(this);\r\n        this.onSubmitImage = this.onSubmitImage.bind(this);\r\n        this.onSubmit = this.onSubmit.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        axios.get('/api/users')\r\n            .then(res => this.setState({ users: res.data, username: res.data[0].username }))\r\n\r\n        axios.get('/api/dashboard/subjects', header)\r\n            .then(res => this.setState({ subjects: res.data }))\r\n    }\r\n\r\n    onChangeUsername(e) {\r\n        this.setState({ username: e.target.value })\r\n    }\r\n\r\n    onChangeSubject(e) {\r\n      this.setState({ subject: e.target.value })\r\n    }\r\n\r\n    onChangeDescription(e) {\r\n      this.setState({ description: e.target.value})\r\n    }\r\n\r\n    onChangeDate(date) {\r\n        this.setState({ date })\r\n    }\r\n\r\n    onChangeImage(e){\r\n      this.setState({ file: e.target.files[0] })\r\n    }\r\n\r\n    onSubmitImage(e){\r\n      e.preventDefault();\r\n\r\n      const image = new FormData();\r\n      image.append('file', this.state.file);\r\n\r\n      axios.post('/api/dashboard/img_data', image, header)\r\n        .then(res => this.setState({ imageID: res.data.new_img }))\r\n\r\n      document.getElementById('imageSubmitted').innerHTML = \"Photo has been submitted\"\r\n    }\r\n\r\n    onSubmit(e) {\r\n        e.preventDefault();\r\n\r\n        const detail = {\r\n          username: this.state.username,\r\n          subject: this.state.subject,\r\n          description: this.state.description,\r\n          image: this.state.imageID,\r\n          date: this.state.date\r\n        };\r\n\r\n        axios.post('/api/dashboard/details/add/', detail, header)\r\n            .then(res => console.log(res.data))\r\n\r\n        window.location = '/admin/dashboard';\r\n    }\r\n\r\n    render() {\r\n        const filteredSubject = this.state.subjects.filter((user) => \r\n          user.username === this.state.username)\r\n\r\n        return (\r\n            <div className='container'>\r\n            <h3>Create New Detail</h3>\r\n            <form onSubmit={this.onSubmit}>\r\n              <div className=\"form-group\"> \r\n                <label>Username: </label>\r\n                <select\r\n                    required\r\n                    className=\"form-control\"\r\n                    value={this.state.username}\r\n                    onChange={this.onChangeUsername}>\r\n                    {this.state.users.map((user) => {\r\n                        return <option\r\n                            key={user.username}\r\n                            value={user.username}>{user.username}\r\n                            </option>\r\n                    })\r\n                    }\r\n                </select>\r\n              </div>\r\n              <div className=\"form-group\"> \r\n                <label>Subject: </label>\r\n                <select\r\n                    required\r\n                    className=\"form-control\"\r\n                    value={this.state.subject}\r\n                    onChange={this.onChangeSubject}>\r\n                    <option></option>\r\n                    {filteredSubject\r\n                    .map((user) => {\r\n                        return (\r\n                          <option\r\n                            key={user.subject}\r\n                            value={user.subject}>{user.subject}\r\n                          </option>\r\n                        )\r\n                    })}\r\n                </select>\r\n              </div>\r\n              <div className=\"form-group\"> \r\n                <label>Image: </label>\r\n                <br />\r\n                <input type=\"file\" name=\"myImage\" onChange= {this.onChangeImage} />\r\n                <button onClick={this.onSubmitImage}>Confirm Image</button>\r\n                <div>\r\n                  <label id=\"imageSubmitted\" style={{color: \"green\"}}></label>\r\n                </div>\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <label>Date: </label>\r\n                <div>\r\n                  <DatePicker\r\n                    selected={this.state.date}\r\n                    onChange={this.onChangeDate}\r\n                  />\r\n                </div>\r\n              </div>\r\n              <div className=\"form-group\"> \r\n                <label>Description: </label>\r\n                <input  type=\"text\"\r\n                    required\r\n                    className=\"form-control\"\r\n                    value={this.state.description}\r\n                    onChange={this.onChangeDescription}\r\n                    />\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <input type=\"submit\" value=\"Add Detail\" className=\"btn btn-primary\" />\r\n              </div>\r\n            </form>\r\n          </div>\r\n        )\r\n    }\r\n    \r\n}"]},"metadata":{},"sourceType":"module"}