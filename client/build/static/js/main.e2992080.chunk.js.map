{"version":3,"sources":["components/navbar.component.js","components/homepage.component.js","components/create-user.component.js","components/dashboard.component.js","components/create-subject.component.js","components/create-detail.component.js","components/update-detail.component.js","components/admin-login.component.js","components/admin-dashboard.component.js","components/admin-edit-detail.component.js","components/admin-create-user.component.js","components/admin-create-subject.component.js","components/admin-create-detail.component.js","App.js","reportWebVitals.js","index.js"],"names":["Navbar","props","logout","bind","e","localStorage","removeItem","window","location","login_logout","createUser","username","getItem","className","to","onClick","this","Component","LoginUser","onChangeEmail","onChangePassword","onSubmit","state","users","pass","email","password","axios","get","then","res","data","setState","target","value","map","user","includes","preventDefault","User","filter","setItem","post","token","catch","err","document","getElementById","innerHTML","type","required","onChange","id","style","color","header","headers","CreateUser","onChangeUsername","newSubject","console","log","Dashboard","subjects","subjectClicked","details","sorted","photo","sort","buffer","binary","slice","call","Uint8Array","forEach","b","String","fromCharCode","btoa","innerText","imgID","delete","each","_id","first","second","date","response","subject","error","photos","listSubjects","sortedDetails","number","listDetails","detail","imageID","image","actualImage","arrayBufferToBase64","img","substring","description","href","src","deleteDetail","scope","CreateSubject","onChangeSubject","CreateDetail","file","Date","onChangeDescription","onChangeImage","onSubmitImage","onChangeDate","files","FormData","append","new_img","name","selected","EditDetail","oldImageID","newImage","newImageID","changeImage","match","params","alert","AdminLogin","Admin","admin","AdminDashboard","updateState","detailID","Detail","Subject","textAlign","AdminCreateUser","AdminCreateSubject","multipleSubject","filteredSubject","App","path","exact","component","HomePage","AdminEditDetail","AdminCreateDetail","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.e2992080.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport default class Navbar extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.logout = this.logout.bind(this);\r\n  }\r\n\r\n  logout(e){\r\n    localStorage.removeItem('token');\r\n    localStorage.removeItem('username');\r\n    localStorage.removeItem('subject');\r\n\r\n    window.location = '/';\r\n  }\r\n\r\n  render() {\r\n    const username = localStorage.getItem('username');\r\n    var login_logout;\r\n    var createUser;\r\n    if (localStorage.getItem('token')) {\r\n      login_logout = \"Logout\"\r\n      createUser = ''\r\n    }\r\n    else {\r\n      login_logout = \"Login\"\r\n      createUser = 'Sign up'\r\n    }\r\n    return (\r\n      <nav className=\"navbar navbar-dark bg-dark navbar-expand-lg\">\r\n        <Link to=\"/\" className=\"navbar-brand\" onClick={this.logout}>{login_logout}</Link>\r\n        <div className=\"collpase navbar-collapse\">\r\n        <ul className=\"navbar-nav mr-auto\">\r\n          {\r\n          (createUser === '')\r\n            ? <li className=\"navbar-item\">\r\n                <h6>Welcome back, {username}</h6>\r\n              </li>\r\n            : <li className=\"navbar-item\">\r\n                <Link to=\"/user/create\" className=\"nav-link\">{createUser}</Link>\r\n              </li>\r\n          }\r\n          <li className=\"navbar-item\">\r\n          <Link to=\"/dashboard\" className=\"nav-link\">Dashboard</Link>\r\n          </li>\r\n        </ul>\r\n        </div>\r\n      </nav>\r\n    );\r\n  }\r\n}","import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport \"../App.css\"\r\n\r\nexport default class LoginUser extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.onChangeEmail = this.onChangeEmail.bind(this);\r\n        this.onChangePassword = this.onChangePassword.bind(this);\r\n        this.onSubmit = this.onSubmit.bind(this);\r\n\r\n        this.state = {\r\n            users: [],\r\n            pass: false,\r\n            email: '',\r\n            password: ''\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        axios.get(\"/api/users\")\r\n            .then(res => {\r\n                const users = res.data\r\n                this.setState({ users })\r\n            })\r\n    }\r\n\r\n    onChangeEmail(e) {\r\n        this.setState({\r\n            email: e.target.value\r\n        })\r\n\r\n        const emails = this.state.users.map(user => user.email)\r\n        if (emails.includes(e.target.value))\r\n            this.setState({ pass: true })\r\n    }\r\n\r\n    onChangePassword(e){\r\n        this.setState({\r\n            password: e.target.value\r\n        })\r\n    }\r\n\r\n    onSubmit(e) {\r\n        e.preventDefault()\r\n\r\n        if(this.state.pass){\r\n            const User = {\r\n                email: this.state.email,\r\n                password: this.state.password\r\n            }\r\n    \r\n            axios.get('/api/users')\r\n            .then(res => {\r\n                const user = res.data.filter(user => user.email === this.state.email)\r\n                localStorage.setItem('username', user[0].username)\r\n            })\r\n    \r\n            axios.post('/api/users/login', User)\r\n                .then(res => {\r\n                    localStorage.setItem(\"token\", res.data.token)\r\n                    window.location = '/dashboard'\r\n                })\r\n                .catch(err => {\r\n                    document.getElementById(\"submit\").innerHTML = \"Password is wrong.\"\r\n                })\r\n        }\r\n        else {\r\n            document.getElementById('submit').innerHTML = \"Email is wrong\";\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"container-fluid\">\r\n                <h3>Login</h3>\r\n                <form onSubmit={this.onSubmit}>\r\n                <div className=\"form-group\"> \r\n                    <label>Email: </label>\r\n                    <input  type=\"text\"\r\n                        required\r\n                        className=\"form-control\"\r\n                        value={this.state.email}\r\n                        onChange={this.onChangeEmail}\r\n                        />\r\n                </div>\r\n                <div className=\"form-group\"> \r\n                    <label>Password: </label>\r\n                    <input  type=\"password\"\r\n                        required\r\n                        className=\"form-control\"\r\n                        value={this.state.password}\r\n                        onChange={this.onChangePassword}\r\n                        />\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <input type=\"submit\" value=\"Login\" className=\"btn btn-primary\" />\r\n                    <p id=\"submit\" style={{color: \"red\"}}></p>\r\n                </div>\r\n                </form>\r\n            </div>\r\n        )\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst token = localStorage.getItem('token');\r\nconst header = { headers: {'auth-token': token} }\r\n\r\nexport default class CreateUser extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            users: [],\r\n            username: '',\r\n            email: \"\",\r\n            password: \"\",\r\n            pass: false,\r\n        }\r\n        this.onChangeUsername = this.onChangeUsername.bind(this);\r\n        this.onChangeEmail = this.onChangeEmail.bind(this);\r\n        this.onChangePassword = this.onChangePassword.bind(this);\r\n        this.onSubmit = this.onSubmit.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        axios.get('/api/users')\r\n            .then(res => {\r\n                const users = res.data\r\n                this.setState({ users })\r\n            })\r\n    }\r\n\r\n    onChangeUsername(e) {\r\n        this.setState({ username: e.target.value})\r\n    }\r\n\r\n    onChangeEmail(e) {\r\n        this.setState({ email: e.target.value })\r\n        const emails = this.state.users.map(user => user.email);\r\n        if(emails.includes(e.target.value)){\r\n            this.setState({ pass: false })\r\n            document.getElementById('email').innerHTML = \" × \"\r\n        }\r\n        else {\r\n            this.setState({ pass: true })\r\n            document.getElementById('email').innerHTML = \"\";\r\n        }\r\n    }\r\n\r\n    onChangePassword(e) {\r\n      this.setState({ password: e.target.value })\r\n    }\r\n\r\n    onSubmit(e) {\r\n        e.preventDefault();\r\n\r\n        if (this.state.pass) {\r\n            const newSubject = {\r\n                username: this.state.username,\r\n                email: this.state.email,\r\n                password: this.state.password\r\n            };\r\n\r\n            axios.post('/api/users/add', newSubject, header)\r\n                .then(res => console.log(res.data))\r\n\r\n            window.location = '/';\r\n\r\n        } else {\r\n            document.getElementById('submit').innerHTML = \"Email has been taken.\"\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className='container'>\r\n            <h3>Create New User</h3>\r\n            <form onSubmit={this.onSubmit}>\r\n            <div className=\"form-group\"> \r\n                <label>Username: </label>\r\n                <input  type=\"text\"\r\n                    required\r\n                    className=\"form-control\"\r\n                    value={this.state.username}\r\n                    onChange={this.onChangeUsername}\r\n                    />\r\n              </div>\r\n              <div className=\"form-group\"> \r\n                <label>Email: </label><a id=\"email\" style={{color: \"red\"}}></a>\r\n                <input  type=\"text\"\r\n                    required\r\n                    className=\"form-control\"\r\n                    value={this.state.email}\r\n                    onChange={this.onChangeEmail}\r\n                    />\r\n              </div>\r\n              <div className=\"form-group\"> \r\n                <label>Password: </label>\r\n                <input  type=\"password\"\r\n                    required\r\n                    className=\"form-control\"\r\n                    value={this.state.password}\r\n                    onChange={this.onChangePassword}\r\n                    />\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <input type=\"submit\" value=\"Create New User\" className=\"btn btn-primary\" />\r\n                <p id=\"submit\" style={{color: \"red\"}}></p>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        )\r\n    }\r\n    \r\n}","\r\nimport React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst token = localStorage.getItem('token');\r\nconst header = { headers: {'auth-token': token} }\r\n\r\nexport default class Dashboard extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            subjects: [],\r\n            subjectClicked: '',\r\n            details: [],\r\n            sorted: false,\r\n            photo: [],\r\n        };\r\n\r\n        this.subjectClicked = this.subjectClicked.bind(this)\r\n        this.sort = this.sort.bind(this);\r\n    }\r\n\r\n    arrayBufferToBase64(buffer) {\r\n        var binary = '';\r\n        var bytes = [].slice.call(new Uint8Array(buffer));\r\n        bytes.forEach((b) => binary += String.fromCharCode(b));\r\n        return window.btoa(binary);\r\n    };\r\n\r\n    subjectClicked(e) {\r\n        this.setState({subjectClicked: e.target.innerText})\r\n        localStorage.setItem(\"subject\", e.target.innerText)\r\n    }\r\n\r\n    deleteDetail(e, id, imgID) {\r\n        e.preventDefault();\r\n\r\n        axios.delete('/api/dashboard/details/' + id, header)\r\n            .then(res => console.log(res.data))\r\n\r\n        axios.delete('/api/dashboard/img_data/' + imgID, header)\r\n            .then(res => console.log(res.data));\r\n\r\n        this.setState({\r\n            details: this.state.details.filter(each => each._id !== id),\r\n            photo: this.state.photo.filter(each => each._id !== imgID)\r\n        })\r\n    }\r\n\r\n    sort(e){\r\n        const sorted = this.state.details.sort((first, second) => {\r\n            if (this.state.sorted === true) {\r\n                if (first.date > second.date) return 1\r\n                    return -1\r\n            } else {if (first.date > second.date) return -1\r\n                    return 1\r\n            }\r\n        })\r\n        this.setState({ details: sorted, sorted: !this.state.sorted });\r\n    }\r\n\r\n    componentDidMount() {\r\n        axios.get('/api/dashboard/subjects', header)\r\n          .then(response => {\r\n            const subjects = response.data.filter(each => \r\n                each.username === localStorage.getItem('username')\r\n            )\r\n            const subject = subjects.map(each => each.subject)\r\n            this.setState({ subjects: subject})\r\n          })\r\n          .catch((error) => {\r\n            console.log(error);\r\n          })\r\n\r\n        axios.get('/api/dashboard/details', header)\r\n            .then(res => {\r\n                this.setState({ details: res.data })\r\n            })\r\n\r\n        axios.get('/api/dashboard/img_data', header)\r\n            .then(res => {\r\n                const photos = res.data;\r\n                this.setState({ photos })\r\n            })\r\n    }\r\n\r\n    render() {\r\n        const subjects = this.state.subjects\r\n        const listSubjects = subjects.map(subject => \r\n            <tr key={subject} onClick={this.subjectClicked}>\r\n                <th>{subject}</th>\r\n            </tr>\r\n            )\r\n\r\n        var details = this.state.details\r\n        var sortedDetails = details.filter(each => \r\n            each.username === localStorage.getItem('username')\r\n            && each.subject === this.state.subjectClicked\r\n            );\r\n\r\n        var number = 0;\r\n        var listDetails = sortedDetails.map(detail => {\r\n            try {\r\n                const photos = this.state.photos\r\n                var imageID = detail.image\r\n                const image = photos.filter(each => each._id === imageID)\r\n                const base64Flag = 'data:image/jpeg;base64,';\r\n                const imageStr = this.arrayBufferToBase64(image[0].img.data.data)\r\n                var actualImage = base64Flag + imageStr\r\n            }\r\n            catch{\r\n                actualImage = '';\r\n            }\r\n            number++;\r\n            return(\r\n                <tr key={detail._id}>\r\n                    <td>{number}</td>\r\n                    <td>{detail.date.substring(0,10)}</td>\r\n                    <td>{detail.description}</td>\r\n                    <td>\r\n                        <a className=\"lightbox\" href={`#${actualImage}`}>\r\n                            <img src={actualImage}/>\r\n                        </a> \r\n                        <div className=\"lightbox-target\" id={actualImage}>\r\n                            <img src={actualImage}/>\r\n                            <a className=\"lightbox-close\" href=\"#\" />\r\n                        </div>\r\n                    </td>\r\n                    <td>\r\n                        <Link to={\"/detail/edit/\"+detail._id}>edit</Link> \r\n                        | \r\n                        <a href=\"/dashboard\" onClick={(e) => this.deleteDetail(e, detail._id, imageID)}>delete</a>\r\n                    </td>\r\n                </tr>\r\n            )\r\n        })\r\n        return (\r\n            <div className='container-fluid'>\r\n                <div>\r\n                    <div className=\"row\">\r\n                        <div className=\"col-xs\">\r\n                            <table className=\"table\">\r\n                                <thead>\r\n                                    <tr>\r\n                                        <th scope=\"col\">Subject</th>\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody>\r\n                                    {listSubjects}\r\n                                    <tr>\r\n                                        <th><Link to=\"/subject/add\" className=\"nav-link\">+Subject</Link></th>\r\n                                    </tr>\r\n                                </tbody>\r\n                            </table>\r\n                        </div>\r\n                        <div className=\"col\">\r\n                            <h1>{this.state.subjectClicked}</h1>\r\n                            <table className='table'>\r\n                                <thead>\r\n                                    <tr>\r\n                                        <th scope='col'>No.</th>\r\n                                        <th scope='col'>Date<button onClick={(e) => this.sort(e)}>↑↓</button></th>\r\n                                        <th scope='col'>Description</th>\r\n                                        <th scope='col'>Image</th>\r\n                                        <th scope=\"col\"></th>\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody>\r\n                                    {listDetails}\r\n                                    <tr>\r\n                                        <th><Link to=\"/detail/add\" className=\"nav-link\">+Detail</Link></th>\r\n                                    </tr>\r\n                                </tbody>\r\n                            </table>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst token = localStorage.getItem('token');\r\nconst header = { headers: {'auth-token': token} }\r\n\r\nexport default class CreateSubject extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            subject: '',\r\n        }\r\n        this.onChangeSubject = this.onChangeSubject.bind(this);\r\n        this.onSubmit = this.onSubmit.bind(this);\r\n    }\r\n\r\n    onChangeSubject(e) {\r\n        this.setState({ subject: e.target.value})\r\n    }\r\n\r\n    onSubmit(e) {\r\n        e.preventDefault();\r\n\r\n        const newSubject = {\r\n            username: localStorage.getItem('username'),\r\n            subject: this.state.subject,\r\n        };\r\n\r\n        axios.post('/api/dashboard/subjects/add', newSubject, header)\r\n            .then(res => console.log(res.data))\r\n\r\n        window.location = '/dashboard';\r\n    }\r\n\r\n    render() {\r\n        const username = localStorage.getItem('username')\r\n        return (\r\n            <div className='container'>\r\n            <h3>Create New Subject</h3>\r\n            <form onSubmit={this.onSubmit}>\r\n              <div className=\"form-group\"> \r\n                <label>Username: </label>\r\n                <br/> \r\n                <h5>{username}</h5>\r\n              </div>\r\n              <div className=\"form-group\"> \r\n                <label>Subject: </label>\r\n                <input  type=\"text\"\r\n                    required\r\n                    className=\"form-control\"\r\n                    value={this.state.description}\r\n                    onChange={this.onChangeSubject}\r\n                    />\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <input type=\"submit\" value=\"Create New Subject\" className=\"btn btn-primary\" />\r\n              </div>\r\n            </form>\r\n          </div>\r\n        )\r\n    }\r\n    \r\n}","import React, { Component } from 'react';\r\nimport DatePicker from 'react-datepicker';\r\nimport 'react-datepicker/dist/react-datepicker.css';\r\nimport axios from 'axios';\r\n\r\nconst token = localStorage.getItem('token');\r\nconst header = { headers: {'auth-token': token} }\r\n\r\nexport default class CreateDetail extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            description: '',\r\n            file: null,\r\n            date: new Date(),\r\n            imageID: ''\r\n        }\r\n        this.onChangeDescription = this.onChangeDescription.bind(this);\r\n        this.onChangeImage = this.onChangeImage.bind(this);\r\n        this.onSubmitImage = this.onSubmitImage.bind(this);\r\n        this.onChangeDate = this.onChangeDate.bind(this);\r\n        this.onSubmit = this.onSubmit.bind(this);\r\n    }\r\n\r\n    onChangeDescription(e) {\r\n      this.setState({ description: e.target.value})\r\n    }\r\n\r\n    onChangeDate(date) {\r\n        this.setState({ date })\r\n    }\r\n\r\n    onChangeImage(e){\r\n      this.setState({ file: e.target.files[0] })\r\n    }\r\n\r\n    onSubmitImage(e){\r\n      e.preventDefault();\r\n\r\n      const image = new FormData();\r\n      image.append('file', this.state.file);\r\n\r\n      axios.post('/api/dashboard/img_data', image, header)\r\n        .then(res => this.setState({ imageID: res.data.new_img }))\r\n\r\n      document.getElementById('imageSubmitted').innerHTML = \"Photo has been submitted\"\r\n    }\r\n\r\n    onSubmit(e) {\r\n        e.preventDefault();\r\n\r\n        const detail = {\r\n          username: localStorage.getItem('username'),\r\n          subject: localStorage.getItem('subject'),\r\n          description: this.state.description,\r\n          image: this.state.imageID,\r\n          date: this.state.date\r\n        };\r\n\r\n        axios.post('/api/dashboard/details/add/', detail, header)\r\n            .then(res => console.log(res.data))\r\n\r\n        localStorage.removeItem('subject');\r\n        window.location = '/dashboard';\r\n    }\r\n\r\n    render() {\r\n        const username = localStorage.getItem('username')\r\n        const subject = localStorage.getItem('subject');\r\n        return (\r\n            <div className='container'>\r\n            <h3>Create New Detail</h3>\r\n            <form onSubmit={this.onSubmit}>\r\n              <div className=\"form-group\"> \r\n                <label>Username: </label>\r\n                <h5>{username}</h5>\r\n              </div>\r\n              <div className=\"form-group\"> \r\n                <label>Subject: </label>\r\n                <h5>{subject}</h5>\r\n              </div>\r\n              <div className=\"form-group\"> \r\n                <label>Image: </label>\r\n                <br />\r\n                <input type=\"file\" name=\"myImage\" onChange= {this.onChangeImage} />\r\n                <button onClick={this.onSubmitImage}>Confirm Image</button>\r\n                <div>\r\n                  <label id=\"imageSubmitted\"  style={{color: \"green\"}}></label>\r\n                </div>\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <label>Date: </label>\r\n                <div>\r\n                  <DatePicker\r\n                    selected={this.state.date}\r\n                    onChange={this.onChangeDate}\r\n                  />\r\n                </div>\r\n              </div>\r\n              <div className=\"form-group\"> \r\n                <label>Description: </label>\r\n                <input  type=\"text\"\r\n                    required\r\n                    className=\"form-control\"\r\n                    value={this.state.description}\r\n                    onChange={this.onChangeDescription}\r\n                    />\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <input type=\"submit\" value=\"Add Detail\" className=\"btn btn-primary\" />\r\n              </div>\r\n            </form>\r\n          </div>\r\n        )\r\n    }\r\n    \r\n}","import React, { Component } from 'react';\r\nimport DatePicker from 'react-datepicker';\r\nimport 'react-datepicker/dist/react-datepicker.css';\r\nimport axios from 'axios';\r\n\r\nconst token = localStorage.getItem('token');\r\nconst header = { headers: {'auth-token': token} }\r\n\r\nexport default class EditDetail extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            id: '',\r\n            description: '',\r\n            file: null,\r\n            date: new Date(),\r\n            oldImageID: '',\r\n            newImage: false,\r\n            newImageID: '',\r\n            photos: []\r\n        }\r\n        this.onChangeDescription = this.onChangeDescription.bind(this);\r\n        this.onChangeImage = this.onChangeImage.bind(this);\r\n        this.onSubmitImage = this.onSubmitImage.bind(this);\r\n        this.changeImage = this.changeImage.bind(this);\r\n        this.onChangeDate = this.onChangeDate.bind(this);\r\n        this.onSubmit = this.onSubmit.bind(this);\r\n    }\r\n\r\n    componentDidMount(){\r\n      axios.get('/api/dashboard/details/' + this.props.match.params.id, header)\r\n        .then(res => {\r\n          this.setState({\r\n            id: res.data._id,\r\n            description: res.data.description,\r\n            date: new Date(res.data.date),\r\n            oldImageID: res.data.image,\r\n            newImageID: res.data.image\r\n          })\r\n        })\r\n\r\n      axios.get('/api/dashboard/img_data', header)\r\n        .then(res => this.setState({ photos: res.data }))\r\n    }\r\n\r\n    changeImage(e){\r\n      e.preventDefault();\r\n      alert('Once you click \\'Confirm Image\\', you can\\'t get back the previous image!');\r\n      this.setState({ newImage: true })\r\n    }\r\n\r\n    onChangeDescription(e) {\r\n      this.setState({ description: e.target.value})\r\n    }\r\n\r\n    onChangeDate(date) {\r\n        this.setState({ date })\r\n    }\r\n\r\n    onChangeImage(e){\r\n      this.setState({ file: e.target.files[0] })\r\n    }\r\n\r\n    onSubmitImage(e){\r\n      e.preventDefault();\r\n\r\n      if(this.state.oldImageID)\r\n        axios.delete('/api/dashboard/img_data/' + this.state.oldImageID, header)\r\n          .then(res => console.log(res))\r\n\r\n      const image = new FormData();\r\n      image.append('file', this.state.file);\r\n\r\n      axios.post('/api/dashboard/img_data', image, header)\r\n        .then(res => {\r\n          console.log(res.data.new_img)\r\n          this.setState({ newImageID: res.data.new_img })\r\n        })\r\n\r\n      document.getElementById('imageSubmitted').innerHTML = \"Photo has been submitted\"\r\n    }\r\n\r\n    onSubmit(e) {\r\n        e.preventDefault();\r\n\r\n        const detail = {\r\n          username: localStorage.getItem('username'),\r\n          subject: localStorage.getItem('subject'),\r\n          description: this.state.description,\r\n          image: this.state.newImageID,\r\n          date: this.state.date\r\n        };\r\n\r\n        axios.post('/api/dashboard/details/update/' + this.state.id, detail, header)\r\n            .then(res => console.log(res.data))\r\n\r\n        localStorage.removeItem('subject');\r\n        window.location = '/dashboard';\r\n    }\r\n\r\n    render() {\r\n        const username = localStorage.getItem('username')\r\n        const subject = localStorage.getItem('subject');\r\n\r\n        function arrayBufferToBase64(buffer) {\r\n          var binary = '';\r\n          var bytes = [].slice.call(new Uint8Array(buffer));\r\n          bytes.forEach((b) => binary += String.fromCharCode(b));\r\n          return window.btoa(binary);\r\n        };\r\n\r\n        try{\r\n          const image = this.state.photos.filter(img => img._id === this.state.oldImageID)\r\n          const base64Flag = 'data:image/jpeg;base64,';\r\n          const imageStr = arrayBufferToBase64(image[0].img.data.data)\r\n          var actualImage = base64Flag + imageStr\r\n        }\r\n        catch{\r\n            actualImage = '';\r\n        }\r\n\r\n        const changeImage = (this.state.newImage)\r\n          ? <div className=\"form-group\"> \r\n              <label>Image: </label>\r\n              <br />\r\n              <input type=\"file\" name=\"myImage\" onChange= {this.onChangeImage} />\r\n              <button onClick={this.onSubmitImage}>Confirm Image</button>\r\n              <div>\r\n                <label id=\"imageSubmitted\" style={{color: \"green\"}}></label>\r\n              </div>\r\n            </div>\r\n          : <div className=\"form-group\"> \r\n              <label>Image</label>\r\n              <a className=\"lightbox\" href={`#${actualImage}`}>\r\n                <img src={actualImage}/>\r\n              </a> \r\n              <div className=\"lightbox-target\" id={actualImage}>\r\n                <img src={actualImage}/>\r\n                <a className=\"lightbox-close\" href=\"#\" />\r\n              </div>\r\n              <div>Do you want to change the Image?</div>\r\n              <button onClick={this.changeImage}>Yes</button>\r\n            </div>\r\n        return (\r\n          <div className='container'>\r\n            <h3>Update Detail</h3>\r\n            <form onSubmit={this.onSubmit}>\r\n              <div className=\"form-group\"> \r\n                <label>Username: </label>\r\n                <h5>{username}</h5>\r\n              </div>\r\n              <br />\r\n              <div className=\"form-group\"> \r\n                <label>Subject: </label>\r\n                <h5>{subject}</h5>\r\n              </div>\r\n              <br />\r\n              {changeImage}\r\n              <br />\r\n              <div className=\"form-group\">\r\n                <label>Date: </label>\r\n                <div>\r\n                  <DatePicker\r\n                    selected={this.state.date}\r\n                    onChange={this.onChangeDate}\r\n                  />\r\n                </div>\r\n              </div>\r\n              <br />\r\n              <div className=\"form-group\"> \r\n                <label>Description: </label>\r\n                <input  type=\"text\"\r\n                    required\r\n                    className=\"form-control\"\r\n                    value={this.state.description}\r\n                    onChange={this.onChangeDescription}\r\n                    />\r\n              </div>\r\n              <br />\r\n              <div className=\"form-group\">\r\n                <input type=\"submit\" value=\"Update Detail\" className=\"btn btn-primary\" />\r\n              </div>\r\n            </form>\r\n          </div>\r\n        )\r\n    }\r\n    \r\n}","import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport \"../App.css\"\r\n\r\nexport default class AdminLogin extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.onChangeEmail = this.onChangeEmail.bind(this);\r\n        this.onChangePassword = this.onChangePassword.bind(this);\r\n        this.onSubmit = this.onSubmit.bind(this);\r\n\r\n        this.state = {\r\n            users: [],\r\n            pass: false,\r\n            email: '',\r\n            password: ''\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        axios.get(\"/api/admins\")\r\n            .then(res => {\r\n                console.log(res.data)\r\n                const users = res.data\r\n                this.setState({ users })\r\n            })\r\n    }\r\n\r\n    onChangeEmail(e) {\r\n        this.setState({\r\n            email: e.target.value\r\n        })\r\n\r\n        const emails = this.state.users.map(user => user.email)\r\n        if (emails.includes(e.target.value))\r\n            this.setState({ pass: true })\r\n    }\r\n\r\n    onChangePassword(e){\r\n        this.setState({\r\n            password: e.target.value\r\n        })\r\n    }\r\n\r\n    onSubmit(e) {\r\n        e.preventDefault()\r\n\r\n        if(this.state.pass){\r\n            const Admin = {\r\n                email: this.state.email,\r\n                password: this.state.password\r\n            }\r\n    \r\n            axios.get('/api/admins')\r\n            .then(res => {\r\n                const admin = res.data.filter(admin => admin.email === this.state.email)\r\n                localStorage.setItem('username', admin[0].username)\r\n            })\r\n    \r\n            axios.post('/api/admins/login', Admin)\r\n                .then(res => {\r\n                    localStorage.setItem(\"token\", res.data.token)\r\n                    window.location = '/admin/dashboard'\r\n                })\r\n                .catch(err => {\r\n                    document.getElementById(\"submit\").innerHTML = \"Password is wrong.\"\r\n                })\r\n        }\r\n        else {\r\n            document.getElementById('submit').innerHTML = \"Email is wrong\";\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"container-fluid\">\r\n                <h3>Login Admin</h3>\r\n                <form onSubmit={this.onSubmit}>\r\n                <div className=\"form-group\"> \r\n                    <label>Email: </label>\r\n                    <input  type=\"text\"\r\n                        required\r\n                        className=\"form-control\"\r\n                        value={this.state.email}\r\n                        onChange={this.onChangeEmail}\r\n                        />\r\n                </div>\r\n                <div className=\"form-group\"> \r\n                    <label>Password: </label>\r\n                    <input  type=\"password\"\r\n                        required\r\n                        className=\"form-control\"\r\n                        value={this.state.password}\r\n                        onChange={this.onChangePassword}\r\n                        />\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <input type=\"submit\" value=\"Login\" className=\"btn btn-primary\" />\r\n                    <p id=\"submit\" style={{color: \"red\"}}></p>\r\n                </div>\r\n                </form>\r\n            </div>\r\n        )\r\n    }\r\n}","\r\nimport React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst token = localStorage.getItem('token');\r\nconst header = { headers: {'auth-token': token} }\r\n\r\nexport default class AdminDashboard extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            users: [],\r\n            subjects: [],\r\n            details: [],\r\n            photos: []\r\n        };\r\n\r\n        this.updateState = this.updateState.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        axios.get('/api/users')\r\n            .then(res => {\r\n                this.setState({ users: res.data })\r\n            })\r\n\r\n        axios.get('/api/dashboard/subjects', header)\r\n          .then(res => {\r\n              this.setState({ subjects: res.data })\r\n          })\r\n\r\n        axios.get('/api/dashboard/details', header)\r\n            .then(res => {\r\n                this.setState({ details: res.data })\r\n            })\r\n\r\n        axios.get('/api/dashboard/img_data', header)\r\n            .then(res => {\r\n                console.log(res.data)\r\n                this.setState({ photos: res.data })\r\n            })\r\n    }\r\n\r\n    deleteDetail(e, id, imgID) {\r\n        e.preventDefault();\r\n\r\n        // axios.delete('/dashboard/details/' + id, header)\r\n        //     .then(res => console.log(res.data))\r\n\r\n        // axios.delete('/dashboard/img_data/' + imgID, header)\r\n        //     .then(res => console.log(res.data));\r\n\r\n        console.log(id, imgID)\r\n\r\n        // this.setState({ \r\n        //     details: this.state.details.filter(each => each._id !== id),\r\n        //     photos: this.state.photos.filter(each => each._id !== imgID)\r\n        // })\r\n    }\r\n\r\n    updateState(detailID, imgID) {\r\n        this.setState({ \r\n            details: this.state.details.filter(each => each._id !== detailID),\r\n            photos: this.state.photos.filter(each => each._id !== imgID)\r\n        })\r\n    }\r\n\r\n    render() {\r\n        const users = this.state.users;\r\n        const subjects = this.state.subjects;\r\n        const details = this.state.details;\r\n        const photos = this.state.photos;\r\n\r\n        function arrayBufferToBase64(buffer) {\r\n            var binary = '';\r\n            var bytes = [].slice.call(new Uint8Array(buffer));\r\n            bytes.forEach((b) => binary += String.fromCharCode(b));\r\n            return window.btoa(binary);\r\n        };\r\n\r\n        function deleteDetail(e, id, imgID) {\r\n            e.preventDefault();\r\n\r\n            axios.delete('/dashboard/details/' + id, header)\r\n                .then(res => console.log(res.data))\r\n\r\n            axios.delete('/dashboard/img_data/' + imgID, header)\r\n                .then(res => console.log(res.data));\r\n\r\n            alert(\"Detail has been deleted. Please refresh to update the dashboard.\")\r\n            document.getElementById('info').innerHTML = \"x\";\r\n        }\r\n\r\n        function Detail(props) {\r\n            const detail =\r\n            details\r\n                .filter( detail => \r\n                    detail.username === props.user \r\n                    && detail.subject === props.subject\r\n                )\r\n                .map( detail => {\r\n                    try{\r\n                        var imageID = detail.image\r\n                        const image = photos.filter(img => img._id === imageID)\r\n                        const base64Flag = 'data:image/jpeg;base64,';\r\n                        const imageStr = arrayBufferToBase64(image[0].img.data.data)\r\n                        var actualImage = base64Flag + imageStr\r\n                    }\r\n                    catch{\r\n                        actualImage = '';\r\n                    }\r\n                    return(\r\n                        <tr key={detail._id}>\r\n                            <td className=\"w-25 p-3\">{detail.description}</td>\r\n                            <td className=\"w-25 p-3\">{detail.date.substring(0,10)}</td>\r\n                            <td className=\"w-25 p-3\">\r\n                                <a className=\"lightbox\" href={`#${actualImage}`}>\r\n                                    <img src={actualImage}/>\r\n                                </a> \r\n                                <div className=\"lightbox-target\" id={actualImage}>\r\n                                    <img src={actualImage}/>\r\n                                    <a className=\"lightbox-close\" href=\"#\" />\r\n                                </div>\r\n                            </td>\r\n                            <td className=\"w-25 p-3\">\r\n                                <Link to={\"/admin/dashboard/detail/edit/\"+detail._id}>edit</Link> \r\n                                |\r\n                                <a href=\"/admin/dashboard\" onClick={(e) => deleteDetail(e, detail._id, imageID )}>delete</a>  <a id=\"info\"></a>\r\n                            </td>\r\n                        </tr>\r\n                    )\r\n                })\r\n            return(detail)\r\n        }\r\n\r\n        function Subject(props) {\r\n            const subject = \r\n            subjects\r\n                .filter( subject => subject.username === props.user)\r\n                .map( subject =>\r\n                    <div key={subject._id}>\r\n                        <h5 >{subject.subject}</h5>\r\n                        <table className=\"table\">\r\n                            <tbody>\r\n                                <Detail user={props.user} subject={subject.subject} />\r\n                            </tbody>\r\n                        </table>\r\n                        <br />\r\n                    </div>\r\n                    )\r\n            return(subject)\r\n        }\r\n\r\n        const user = users.map(user => \r\n            <div key={user.username}>\r\n                <h1 >{user.username}</h1>\r\n                <Subject user={user.username} />\r\n                \r\n                <br />\r\n            </div>\r\n            )\r\n\r\n        return (\r\n            <div>\r\n                <div style={{textAlign:\"center\"}}>\r\n                    <Link to={\"/admin/user/add\"}>+User</Link>\r\n                    <Link to={\"/admin/subject/add\"}>+Subject</Link>\r\n                    <Link to={\"/admin/detail/add\"}>+Detail</Link>\r\n                </div>\r\n                {user}\r\n            </div>\r\n        )\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport DatePicker from 'react-datepicker';\r\nimport 'react-datepicker/dist/react-datepicker.css';\r\nimport axios from 'axios';\r\n\r\nconst token = localStorage.getItem('token');\r\nconst header = { headers: {'auth-token': token} }\r\n\r\nexport default class EditDetail extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            id: '',\r\n            user: '',\r\n            subject: '',\r\n            description: '',\r\n            file: null,\r\n            date: new Date(),\r\n            oldImageID: '',\r\n            newImage: false,\r\n            newImageID: '',\r\n            photos: []\r\n        }\r\n        this.onChangeDescription = this.onChangeDescription.bind(this);\r\n        this.onChangeImage = this.onChangeImage.bind(this);\r\n        this.onSubmitImage = this.onSubmitImage.bind(this);\r\n        this.changeImage = this.changeImage.bind(this);\r\n        this.onChangeDate = this.onChangeDate.bind(this);\r\n        this.onSubmit = this.onSubmit.bind(this);\r\n    }\r\n\r\n    componentDidMount(){\r\n      axios.get('/api/dashboard/details/' + this.props.match.params.id, header)\r\n        .then(res => {\r\n          this.setState({\r\n            id: res.data._id,\r\n            user: res.data.username,\r\n            subject: res.data.subject,\r\n            description: res.data.description,\r\n            date: new Date(res.data.date),\r\n            oldImageID: res.data.image,\r\n            newImageID: res.data.image\r\n          })\r\n        })\r\n\r\n      axios.get('/api/dashboard/img_data', header)\r\n        .then(res => this.setState({ photos: res.data }))\r\n    }\r\n\r\n    changeImage(e){\r\n      e.preventDefault();\r\n      alert('Once you click \\'Confirm Image\\', you can\\'t get back the previous image!');\r\n      this.setState({ newImage: true })\r\n    }\r\n\r\n    onChangeDescription(e) {\r\n      this.setState({ description: e.target.value})\r\n    }\r\n\r\n    onChangeDate(date) {\r\n        this.setState({ date })\r\n    }\r\n\r\n    onChangeImage(e){\r\n      this.setState({ file: e.target.files[0] })\r\n    }\r\n\r\n    onSubmitImage(e){\r\n      e.preventDefault();\r\n\r\n      if(this.state.oldImageID)\r\n        axios.delete('/api/dashboard/img_data/' + this.state.oldImageID, header)\r\n          .then(res => console.log(res))\r\n\r\n      const image = new FormData();\r\n      image.append('file', this.state.file);\r\n\r\n      axios.post('/api/dashboard/img_data', image, header)\r\n        .then(res => {\r\n          this.setState({ newImageID: res.data.new_img })\r\n        })\r\n\r\n      document.getElementById('imageSubmitted').innerHTML = \"Photo has been submitted\"\r\n    }\r\n\r\n    onSubmit(e) {\r\n        e.preventDefault();\r\n\r\n        const detail = {\r\n          username: this.state.user,\r\n          subject: this.state.subject,\r\n          description: this.state.description,\r\n          image: this.state.newImageID,\r\n          date: this.state.date\r\n        };\r\n\r\n        axios.post('/api/dashboard/details/update/' + this.state.id, detail, header)\r\n            .then(res => console.log(res.data))\r\n\r\n        localStorage.removeItem('subject');\r\n        window.location = '/admin/dashboard';\r\n    }\r\n\r\n    render() {\r\n        function arrayBufferToBase64(buffer) {\r\n          var binary = '';\r\n          var bytes = [].slice.call(new Uint8Array(buffer));\r\n          bytes.forEach((b) => binary += String.fromCharCode(b));\r\n          return window.btoa(binary);\r\n        };\r\n\r\n        try{\r\n          const image = this.state.photos.filter(img => img._id === this.state.oldImageID)\r\n          const base64Flag = 'data:image/jpeg;base64,';\r\n          const imageStr = arrayBufferToBase64(image[0].img.data.data)\r\n          var actualImage = base64Flag + imageStr\r\n        }\r\n        catch{\r\n            actualImage = '';\r\n        }\r\n\r\n        const changeImage = (this.state.newImage)\r\n          ? <div className=\"form-group\"> \r\n              <label>Image: </label>\r\n              <br />\r\n              <input type=\"file\" name=\"myImage\" onChange= {this.onChangeImage} />\r\n              <button onClick={this.onSubmitImage}>Confirm Image</button>\r\n              <div>\r\n                <label id=\"imageSubmitted\" style={{color: \"green\"}}></label>\r\n              </div>\r\n            </div>\r\n          : <div className=\"form-group\"> \r\n              <label>Image</label>\r\n              <a className=\"lightbox\" href={`#${actualImage}`}>\r\n                <img src={actualImage}/>\r\n              </a> \r\n              <div className=\"lightbox-target\" id={actualImage}>\r\n                <img src={actualImage}/>\r\n                <a className=\"lightbox-close\" href=\"#\" />\r\n              </div>\r\n              <div>Do you want to change the Image?</div>\r\n              <button onClick={this.changeImage}>Yes</button>\r\n            </div>\r\n        return (\r\n          <div className='container'>\r\n            <h3>Update Detail</h3>\r\n            <form onSubmit={this.onSubmit}>\r\n              <div className=\"form-group\"> \r\n                <label>Username: </label>\r\n                <h5>{this.state.user}</h5>\r\n              </div>\r\n              <br />\r\n              <div className=\"form-group\"> \r\n                <label>Subject: </label>\r\n                <h5>{this.state.subject}</h5>\r\n              </div>\r\n              <br />\r\n              {changeImage}\r\n              <br />\r\n              <div className=\"form-group\">\r\n                <label>Date: </label>\r\n                <div>\r\n                  <DatePicker\r\n                    selected={this.state.date}\r\n                    onChange={this.onChangeDate}\r\n                  />\r\n                </div>\r\n              </div>\r\n              <br />\r\n              <div className=\"form-group\"> \r\n                <label>Description: </label>\r\n                <input  type=\"text\"\r\n                    required\r\n                    className=\"form-control\"\r\n                    value={this.state.description}\r\n                    onChange={this.onChangeDescription}\r\n                    />\r\n              </div>\r\n              <br />\r\n              <div className=\"form-group\">\r\n                <input type=\"submit\" value=\"Update Detail\" className=\"btn btn-primary\" />\r\n              </div>\r\n            </form>\r\n          </div>\r\n        )\r\n    }\r\n    \r\n}","import React, { Component } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst token = localStorage.getItem('token');\r\nconst header = { headers: {'auth-token': token} }\r\n\r\nexport default class AdminCreateUser extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            users: [],\r\n            username: '',\r\n            email: \"\",\r\n            password: \"\",\r\n            pass: false,\r\n        }\r\n        this.onChangeUsername = this.onChangeUsername.bind(this);\r\n        this.onChangeEmail = this.onChangeEmail.bind(this);\r\n        this.onChangePassword = this.onChangePassword.bind(this);\r\n        this.onSubmit = this.onSubmit.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        axios.get('/api/users')\r\n            .then(res => {\r\n                const users = res.data\r\n                this.setState({ users })\r\n            })\r\n    }\r\n\r\n    onChangeUsername(e) {\r\n        this.setState({ username: e.target.value})\r\n    }\r\n\r\n    onChangeEmail(e) {\r\n        this.setState({ email: e.target.value })\r\n        const emails = this.state.users.map(user => user.email);\r\n        if(emails.includes(e.target.value)){\r\n            this.setState({ pass: false })\r\n            document.getElementById('email').innerHTML = \" × \"\r\n        }\r\n        else {\r\n            this.setState({ pass: true })\r\n            document.getElementById('email').innerHTML = \"\";\r\n        }\r\n    }\r\n\r\n    onChangePassword(e) {\r\n      this.setState({ password: e.target.value })\r\n    }\r\n\r\n    onSubmit(e) {\r\n        e.preventDefault();\r\n\r\n        if (this.state.pass) {\r\n            const newSubject = {\r\n                username: this.state.username,\r\n                email: this.state.email,\r\n                password: this.state.password\r\n            };\r\n\r\n            axios.post('/api/users/add', newSubject, header)\r\n                .then(res => console.log(res.data))\r\n\r\n            // window.location = '/admin/dashboard';\r\n\r\n        } else {\r\n            document.getElementById('submit').innerHTML = \"Email has been taken.\"\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className='container'>\r\n            <h3>Create New User</h3>\r\n            <form onSubmit={this.onSubmit}>\r\n            <div className=\"form-group\"> \r\n                <label>Username: </label>\r\n                <input  type=\"text\"\r\n                    required\r\n                    className=\"form-control\"\r\n                    value={this.state.username}\r\n                    onChange={this.onChangeUsername}\r\n                    />\r\n              </div>\r\n              <div className=\"form-group\"> \r\n                <label>Email: </label><a id=\"email\" style={{color: \"red\"}}></a>\r\n                <input  type=\"text\"\r\n                    required\r\n                    className=\"form-control\"\r\n                    value={this.state.email}\r\n                    onChange={this.onChangeEmail}\r\n                    />\r\n              </div>\r\n              <div className=\"form-group\"> \r\n                <label>Password: </label>\r\n                <input  type=\"password\"\r\n                    required\r\n                    className=\"form-control\"\r\n                    value={this.state.password}\r\n                    onChange={this.onChangePassword}\r\n                    />\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <input type=\"submit\" value=\"Create New User\" className=\"btn btn-primary\" />\r\n                <p id=\"submit\" style={{color: \"red\"}}></p>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        )\r\n    }\r\n    \r\n}","import React, { Component } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst token = localStorage.getItem('token');\r\nconst header = { headers: {'auth-token': token} }\r\n\r\nexport default class AdminCreateSubject extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            users: [],\r\n            username: '',\r\n            subject: '',\r\n        }\r\n        this.onChangeUsername = this.onChangeUsername.bind(this);\r\n        this.onChangeSubject = this.onChangeSubject.bind(this);\r\n        this.onSubmit = this.onSubmit.bind(this);\r\n    }\r\n\r\n    componentDidMount(){\r\n        axios.get('/api/users')\r\n            .then(res => this.setState({ users: res.data, username: res.data[0].username }))\r\n    }\r\n\r\n    onChangeUsername(e){\r\n        this.setState({ username: e.target.value })\r\n    }\r\n\r\n    onChangeSubject(e) {\r\n        this.setState({ subject: e.target.value})\r\n    }\r\n\r\n    onSubmit(e) {\r\n        e.preventDefault();\r\n\r\n        const newSubject = {\r\n            username: this.state.username,\r\n            subject: this.state.subject,\r\n        };\r\n\r\n        axios.post('/api/dashboard/subjects/add', newSubject, header)\r\n            .then(res => console.log(res.data))\r\n\r\n        window.location = '/admin/dashboard';\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className='container'>\r\n            <h3>Create New Subject</h3>\r\n            <form onSubmit={this.onSubmit}>\r\n              <div className=\"form-group\"> \r\n                <label>Username: </label>\r\n                <br/> \r\n                <select\r\n                    required\r\n                    className=\"form-control\"\r\n                    value={this.state.username}\r\n                    onChange={this.onChangeUsername}>\r\n                    {this.state.users.map((user) => {\r\n                        return <option\r\n                            key={user.username}\r\n                            value={user.username}>{user.username}\r\n                            </option>\r\n                    })\r\n                    }\r\n                </select>\r\n              </div>\r\n              <div className=\"form-group\"> \r\n                <label>Subject: </label>\r\n                <input  type=\"text\"\r\n                    required\r\n                    className=\"form-control\"\r\n                    value={this.state.description}\r\n                    onChange={this.onChangeSubject}\r\n                    />\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <input type=\"submit\" value=\"Create New Subject\" className=\"btn btn-primary\" />\r\n              </div>\r\n            </form>\r\n          </div>\r\n        )\r\n    }\r\n    \r\n}","import React, { Component } from 'react';\r\nimport DatePicker from 'react-datepicker';\r\nimport 'react-datepicker/dist/react-datepicker.css';\r\nimport axios from 'axios';\r\n\r\nconst token = localStorage.getItem('token');\r\nconst header = { headers: {'auth-token': token} }\r\n\r\nexport default class CreateDetail extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            users: [],\r\n            subjects: [],\r\n            username: '',\r\n            multipleSubject: [],\r\n            subject: '',\r\n            description: '',\r\n            file: null,\r\n            date: new Date(),\r\n            imageID: ''\r\n        }\r\n        this.onChangeUsername = this.onChangeUsername.bind(this);\r\n        this.onChangeSubject = this.onChangeSubject.bind(this);\r\n        this.onChangeDescription = this.onChangeDescription.bind(this);\r\n        this.onChangeImage = this.onChangeImage.bind(this);\r\n        this.onChangeDate = this.onChangeDate.bind(this);\r\n        this.onSubmitImage = this.onSubmitImage.bind(this);\r\n        this.onSubmit = this.onSubmit.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        axios.get('/api/users')\r\n            .then(res => this.setState({ users: res.data, username: res.data[0].username }))\r\n\r\n        axios.get('/api/dashboard/subjects', header)\r\n            .then(res => this.setState({ subjects: res.data }))\r\n    }\r\n\r\n    onChangeUsername(e) {\r\n        this.setState({ username: e.target.value })\r\n    }\r\n\r\n    onChangeSubject(e) {\r\n      this.setState({ subject: e.target.value })\r\n    }\r\n\r\n    onChangeDescription(e) {\r\n      this.setState({ description: e.target.value})\r\n    }\r\n\r\n    onChangeDate(date) {\r\n        this.setState({ date })\r\n    }\r\n\r\n    onChangeImage(e){\r\n      this.setState({ file: e.target.files[0] })\r\n    }\r\n\r\n    onSubmitImage(e){\r\n      e.preventDefault();\r\n\r\n      const image = new FormData();\r\n      image.append('file', this.state.file);\r\n\r\n      axios.post('/api/dashboard/img_data', image, header)\r\n        .then(res => this.setState({ imageID: res.data.new_img }))\r\n\r\n      document.getElementById('imageSubmitted').innerHTML = \"Photo has been submitted\"\r\n    }\r\n\r\n    onSubmit(e) {\r\n        e.preventDefault();\r\n\r\n        const detail = {\r\n          username: this.state.username,\r\n          subject: this.state.subject,\r\n          description: this.state.description,\r\n          image: this.state.imageID,\r\n          date: this.state.date\r\n        };\r\n\r\n        axios.post('/api/dashboard/details/add/', detail, header)\r\n            .then(res => console.log(res.data))\r\n\r\n        window.location = '/admin/dashboard';\r\n    }\r\n\r\n    render() {\r\n        const filteredSubject = this.state.subjects.filter((user) => \r\n          user.username === this.state.username)\r\n\r\n        return (\r\n            <div className='container'>\r\n            <h3>Create New Detail</h3>\r\n            <form onSubmit={this.onSubmit}>\r\n              <div className=\"form-group\"> \r\n                <label>Username: </label>\r\n                <select\r\n                    required\r\n                    className=\"form-control\"\r\n                    value={this.state.username}\r\n                    onChange={this.onChangeUsername}>\r\n                    {this.state.users.map((user) => {\r\n                        return <option\r\n                            key={user.username}\r\n                            value={user.username}>{user.username}\r\n                            </option>\r\n                    })\r\n                    }\r\n                </select>\r\n              </div>\r\n              <div className=\"form-group\"> \r\n                <label>Subject: </label>\r\n                <select\r\n                    required\r\n                    className=\"form-control\"\r\n                    value={this.state.subject}\r\n                    onChange={this.onChangeSubject}>\r\n                    <option></option>\r\n                    {filteredSubject\r\n                    .map((user) => {\r\n                        return (\r\n                          <option\r\n                            key={user.subject}\r\n                            value={user.subject}>{user.subject}\r\n                          </option>\r\n                        )\r\n                    })}\r\n                </select>\r\n              </div>\r\n              <div className=\"form-group\"> \r\n                <label>Image: </label>\r\n                <br />\r\n                <input type=\"file\" name=\"myImage\" onChange= {this.onChangeImage} />\r\n                <button onClick={this.onSubmitImage}>Confirm Image</button>\r\n                <div>\r\n                  <label id=\"imageSubmitted\" style={{color: \"green\"}}></label>\r\n                </div>\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <label>Date: </label>\r\n                <div>\r\n                  <DatePicker\r\n                    selected={this.state.date}\r\n                    onChange={this.onChangeDate}\r\n                  />\r\n                </div>\r\n              </div>\r\n              <div className=\"form-group\"> \r\n                <label>Description: </label>\r\n                <input  type=\"text\"\r\n                    required\r\n                    className=\"form-control\"\r\n                    value={this.state.description}\r\n                    onChange={this.onChangeDescription}\r\n                    />\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <input type=\"submit\" value=\"Add Detail\" className=\"btn btn-primary\" />\r\n              </div>\r\n            </form>\r\n          </div>\r\n        )\r\n    }\r\n    \r\n}","import React from 'react';\r\nimport { BrowserRouter as Router, Route } from \"react-router-dom\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport './App.css';\r\n\r\nimport Navbar from \"./components/navbar.component\";\r\nimport HomePage from \"./components/homepage.component\";\r\nimport CreateUser from \"./components/create-user.component\";\r\nimport Dashboard from \"./components/dashboard.component\";\r\nimport CreateSubject from \"./components/create-subject.component\";\r\nimport CreateDetail from \"./components/create-detail.component\";\r\nimport EditDetail from \"./components/update-detail.component\";\r\nimport AdminLogin from \"./components/admin-login.component\";\r\nimport AdminDashboard from \"./components/admin-dashboard.component\";\r\nimport AdminEditDetail from \"./components/admin-edit-detail.component\";\r\nimport AdminCreateUser from \"./components/admin-create-user.component\";\r\nimport AdminCreateSubject from \"./components/admin-create-subject.component\";\r\nimport AdminCreateDetail from \"./components/admin-create-detail.component\";\r\n\r\nfunction App() {\r\n  return (\r\n    <Router>\r\n      <div className=\"container-fluid\">\r\n        <Navbar />\r\n        <br/>\r\n        <Route path=\"/\" exact component={HomePage} />\r\n        <Route path=\"/user/create\" component={CreateUser} />\r\n        <Route path=\"/dashboard\" component={Dashboard} />\r\n        <Route path=\"/subject/add\" component={CreateSubject} />\r\n        <Route path=\"/detail/add\" component={CreateDetail} />\r\n        <Route path=\"/detail/edit/:id\" component={EditDetail} />\r\n        <Route path=\"/admin\" exact component={AdminLogin} />\r\n        <Route path=\"/admin/dashboard\" exact component={AdminDashboard} />\r\n        <Route path=\"/admin/dashboard/detail/edit/:id\" component={AdminEditDetail} />\r\n        <Route path=\"/admin/user/add\" component={AdminCreateUser} />\r\n        <Route path=\"/admin/subject/add\" component={AdminCreateSubject} />\r\n        <Route path=\"/admin/detail/add\" component={AdminCreateDetail} />\r\n      </div>\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}